<html>

<head>
    <title>Grid Load Sim - IoT</title>
    <script type="text/javascript" src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>

<body style="font-family: 'Roboto', sans-serif; padding-top: 1rem;">
    <div style="text-align: center;" class="animate__animated animate__fadeInDown">
        <h1 style="letter-spacing: 7px;">LOAD BALANCING ON THE GRID</h1>
        <h4 style="letter-spacing: 5px; font-weight: 100;">Foxtrot</h4>
    </div>
    <div id="authors" class="animate__animated animate__fadeInRight"
        style="z-index: 10; font-size: smaller; position: fixed; top: 30; right: 30; display: flex; text-align: end; justify-content: flex-end; flex-direction: column;">
        <a href="mailto:sam.martin@post.au.dk">@ Harith Rathish</a>
        <a href="mailto:sam.martin@post.au.dk">@ Sam Martin Vargas Giagnocavo</a>
    </div>
    <div id="vis" style="text-align: center; position: fixed; top: 0; left: 0; width: 100%; height: 100%;"></div>
    <script>
        let network
        let nodes, edges

        window.addEventListener("load", () => {
            fetch('data')
                .then(res => res.json())
                .then(data => {
                    var container = document.getElementById("vis")
                    var options = {
                        nodes: {
                            shape: "dot",
                            size: 8,
                        },
                        edges: {
                            color: '#D3D3D3',
                            width: 2
                        },
                        physics: {
                            forceAtlas2Based: {
                                gravitationalConstant: -26,
                                centralGravity: 0.005,
                                springLength: 230,
                                springConstant: 0.18,
                            },
                            maxVelocity: 146,
                            solver: "forceAtlas2Based",
                            timestep: 0.35,
                            stabilization: { iterations: 150 },
                        },
                    };
                    nodes = new vis.DataSet(data.nodes)
                    edges = new vis.DataSet(data.edges)

                    network = new vis.Network(container, {nodes: nodes, edges: edges}, options);
                    setInterval(() => {
                        nodes.update([{id: 0, label: "Hi :D"}]);
                    }, 3000)
                })
                .catch(err => console.error(err));
        });


    </script>
    <div style="position: fixed; bottom: 30px; right: 30px; display: flex; flex-direction: column;">
        <div id="toolbar-buttons" style="display: flex;">
            <div style="margin-left: 10px; cursor: pointer;">
                <i class="far fa-play-circle"></i>
                <span>Start</span>
            </div>
            <div style="margin-left: 10px; cursor: pointer;">
                <i class="fas fa-forward"></i>
                <span>Skip</span>
            </div>
            <div style="margin-left: 10px; cursor: pointer;">
                <i class="fas fa-file-import"></i>
                <span>Import</span>
            </div>
        </div>
        <div id="toolbar-info" style="margin: auto; margin-top: 10px; font-size: smaller;">
            <i class="fas fa-info-circle"></i>
            <span>Loaded with default dataset</span>
        </div>
    </div>
</body>

</html>