<html>

<head>
    <title>Grid Load Sim - IoT</title>
    <script src="https://cdn.jsdelivr.net/npm/vega@5.21.0"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-lite@5.2.0"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@6.20.0"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />
</head>

<body style="font-family: 'Roboto', sans-serif; padding-top: 1rem;">
    <div style="text-align: center;" class="animate__animated animate__fadeInDown">
        <h1 style="letter-spacing: 7px;">LOAD BALANCING ON THE GRID</h1>
        <h4 style="letter-spacing: 5px; font-weight: 100;">Foxtrot</h4>
    </div>
    <div id="authors" class="animate__animated animate__fadeInRight" style="z-index: 10; font-size: smaller; position: fixed; top: 30; right: 30; display: flex; text-align: end; justify-content: flex-end; flex-direction: column;">
        <a href="mailto:sam.martin@post.au.dk">@ Harith Rathish</a>
        <a href="mailto:sam.martin@post.au.dk">@ Sam Martin Vargas Giagnocavo</a>
    </div>
    <div id="vis" style="text-align: center; position: absolute; top: 0; left: 0; width: 100%; height: 100%;"></div>
    <script>
        let vizView

        fetch('vegajsconfig.json')
            .then(res => res.json())
            .then(spec => render(spec))
            .catch(err => console.error(err));

        function render(spec) {
            vegaEmbed("#vis", spec, { mode: "vega", actions: false})
                .then(v => {
                    vizView = v.view
                    updateVizDimensions()
                })
                .catch(console.warn);
        }
        
        function updateVizDimensions() {
            var windowWidth = window.innerWidth
            var windowHeight = window.innerHeight
            vizView.width(windowWidth)
            vizView.height(windowHeight - 50)
        }
        
        window.onresize = updateVizDimensions
    </script>
</body>

</html>